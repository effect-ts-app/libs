diff --git a/dist/cjs/Model.js b/dist/cjs/Model.js
index beac15ac173817edf4b167f03089862c235efb61..9da8be26e17e75a363506b61cfc01fe67808bff6 100644
--- a/dist/cjs/Model.js
+++ b/dist/cjs/Model.js
@@ -8,6 +8,7 @@ var RRX = _interopRequireWildcard(require("@effect/experimental/RequestResolver"
 var VariantSchema = _interopRequireWildcard(require("@effect/experimental/VariantSchema"));
 var ParseResult = _interopRequireWildcard(require("@effect/schema/ParseResult"));
 var Schema = _interopRequireWildcard(require("@effect/schema/Schema"));
+var _crypto = require("crypto");
 var DateTime = _interopRequireWildcard(require("effect/DateTime"));
 var Effect = _interopRequireWildcard(require("effect/Effect"));
 var Option = _interopRequireWildcard(require("effect/Option"));
@@ -20,6 +21,9 @@ function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e;
  * @since 1.0.0
  */
 
+// @ts-expect-error
+// TODO
+
 const {
   Class,
   Field,
@@ -302,6 +306,7 @@ const makeRepository = (Model, options) => Effect.gen(function* () {
   const sql = yield* _SqlClient.SqlClient;
   const idSchema = Model.fields[options.idColumn];
   const idColumn = options.idColumn;
+  const versionColumn = options.versionColumn;
   const insertSchema = SqlSchema.single({
     Request: Model.insert,
     Result: Model,
@@ -330,7 +335,14 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = LAST_INSERT_ID(
   const updateSchema = SqlSchema.single({
     Request: Model.update,
     Result: Model,
-    execute: request => sql.onDialectOrElse({
+    execute: versionColumn ? request => sql.onDialectOrElse({
+      mysql: () => sql`update ${sql(options.tableName)} set ${sql.update({
+        ...request,
+        [versionColumn]: (0, _crypto.randomUUID)()
+      }, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]};
+select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(Effect.map(([, results]) => results)),
+      orElse: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]} returning *`
+    }) : request => sql.onDialectOrElse({
       mysql: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]};
 select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(Effect.map(([, results]) => results)),
       orElse: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} returning *`
@@ -344,7 +356,10 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idCol
   }));
   const updateVoidSchema = SqlSchema.void({
     Request: Model.update,
-    execute: request => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]}`
+    execute: versionColumn ? request => sql`update ${sql(options.tableName)} set ${sql.update({
+      ...request,
+      [versionColumn]: (0, _crypto.randomUUID)()
+    }, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]}` : request => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]}`
   });
   const updateVoid = update => updateVoidSchema(update).pipe(Effect.orDie, Effect.withSpan(`${options.spanPrefix}.updateVoid`, {
     captureStackTrace: false,
diff --git a/dist/cjs/Model.js.map b/dist/cjs/Model.js.map
index 1d6723995bd4427c7a5798c2c43219e9bd3c5e60..80a188887bbd6dd359e698e78e9d3785d1e73663 100644
--- a/dist/cjs/Model.js.map
+++ b/dist/cjs/Model.js.map
@@ -1 +1 @@
-{"version":3,"file":"Model.js","names":["RRX","_interopRequireWildcard","require","VariantSchema","ParseResult","Schema","DateTime","Effect","Option","_SqlClient","SqlResolver","SqlSchema","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","Class","Field","FieldExcept","FieldOnly","Struct","Union","extract","fieldEvolve","fieldFromKey","make","variants","defaultVariant","exports","fields","Override","Generated","schema","select","update","json","GeneratedByApp","insert","Sensitive","FieldOption","OptionFromNullOr","optionalWith","as","jsonCreate","nullable","jsonUpdate","DateTimeFromDate","transform","ValidDateFromSelf","DateTimeUtcFromSelf","decode","unsafeFromDate","encode","toDateUtc","Date","transformOrFail","String","s","_","ast","pipe","map","removeTime","match","onNone","fail","Type","onSome","dt","succeed","formatIsoDate","DateWithNow","Overrideable","generate","now","DateTimeWithNow","formatIso","DateTimeFromDateWithNow","DateFromSelf","DateTimeFromNumberWithNow","Number","toEpochMillis","DateTimeInsert","DateTimeUtc","DateTimeInsertFromDate","DateTimeInsertFromNumber","DateTimeUtcFromNumber","DateTimeUpdate","DateTimeUpdateFromDate","DateTimeUpdateFromNumber","JsonFromString","parsed","parseJson","makeRepository","Model","options","gen","sql","SqlClient","idSchema","idColumn","insertSchema","single","Request","Result","execute","request","onDialectOrElse","mysql","tableName","unprepared","results","orElse","returning","orDie","withSpan","spanPrefix","captureStackTrace","attributes","insertVoidSchema","void","insertVoid","updateSchema","updateVoidSchema","updateVoid","findByIdSchema","findOne","id","findById","deleteSchema","delete_","delete","makeDataLoaders","insertResolver","ordered","forEach","concurrency","insertLoader","dataLoader","window","maxBatchSize","insertExecute","makeExecute","insertVoidResolver","insertVoidLoader","insertVoidExecute","findByIdResolver","Id","ResultId","ids","in","findByIdLoader","findByIdExecute","deleteResolver","deleteLoader","deleteExecute"],"sources":["../../src/Model.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"Model.js","names":["RRX","_interopRequireWildcard","require","VariantSchema","ParseResult","Schema","_crypto","DateTime","Effect","Option","_SqlClient","SqlResolver","SqlSchema","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","Class","Field","FieldExcept","FieldOnly","Struct","Union","extract","fieldEvolve","fieldFromKey","make","variants","defaultVariant","exports","fields","Override","Generated","schema","select","update","json","GeneratedByApp","insert","Sensitive","FieldOption","OptionFromNullOr","optionalWith","as","jsonCreate","nullable","jsonUpdate","DateTimeFromDate","transform","ValidDateFromSelf","DateTimeUtcFromSelf","decode","unsafeFromDate","encode","toDateUtc","Date","transformOrFail","String","s","_","ast","pipe","map","removeTime","match","onNone","fail","Type","onSome","dt","succeed","formatIsoDate","DateWithNow","Overrideable","generate","now","DateTimeWithNow","formatIso","DateTimeFromDateWithNow","DateFromSelf","DateTimeFromNumberWithNow","Number","toEpochMillis","DateTimeInsert","DateTimeUtc","DateTimeInsertFromDate","DateTimeInsertFromNumber","DateTimeUtcFromNumber","DateTimeUpdate","DateTimeUpdateFromDate","DateTimeUpdateFromNumber","JsonFromString","parsed","parseJson","makeRepository","Model","options","gen","sql","SqlClient","idSchema","idColumn","versionColumn","insertSchema","single","Request","Result","execute","request","onDialectOrElse","mysql","tableName","unprepared","results","orElse","returning","orDie","withSpan","spanPrefix","captureStackTrace","attributes","insertVoidSchema","void","insertVoid","updateSchema","randomUUID","updateVoidSchema","updateVoid","findByIdSchema","findOne","id","findById","deleteSchema","delete_","delete","makeDataLoaders","insertResolver","ordered","forEach","concurrency","insertLoader","dataLoader","window","maxBatchSize","insertExecute","makeExecute","insertVoidResolver","insertVoidLoader","insertVoidExecute","findByIdResolver","Id","ResultId","ids","in","findByIdLoader","findByIdExecute","deleteResolver","deleteLoader","deleteExecute"],"sources":["../../src/Model.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/dist/dts/Model.d.ts b/dist/dts/Model.d.ts
index 53e89e1e33b1e7f74731935708b81528c8a83527..63c886195637c0487d073ab558a060b9b6feb25e 100644
--- a/dist/dts/Model.d.ts
+++ b/dist/dts/Model.d.ts
@@ -508,6 +508,7 @@ export declare const makeRepository: <S extends Any, Id extends (keyof S["Type"]
     readonly tableName: string;
     readonly spanPrefix: string;
     readonly idColumn: Id;
+    readonly versionColumn?: string | undefined;
 }) => Effect.Effect<{
     readonly insert: (insert: S["insert"]["Type"]) => Effect.Effect<S["Type"], never, S["Context"] | S["insert"]["Context"]>;
     readonly insertVoid: (insert: S["insert"]["Type"]) => Effect.Effect<void, never, S["Context"] | S["insert"]["Context"]>;
diff --git a/dist/dts/Model.d.ts.map b/dist/dts/Model.d.ts.map
index 9088e357a7a0f594c109492585743a58a88a6db3..9268b35f26540efcd76f0716429a3afb890f19cc 100644
--- a/dist/dts/Model.d.ts.map
+++ b/dist/dts/Model.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"Model.d.ts","sourceRoot":"","sources":["../../src/Model.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"Model.d.ts","sourceRoot":"","sources":["../../src/Model.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/Model.js b/dist/esm/Model.js
index eb4e1dd1ce75dbdfb958c1b1d219d80c6e806f9a..d2c03454ae363099fbf4abf4495dad4ea0f45685 100644
--- a/dist/esm/Model.js
+++ b/dist/esm/Model.js
@@ -5,6 +5,8 @@ import * as RRX from "@effect/experimental/RequestResolver";
 import * as VariantSchema from "@effect/experimental/VariantSchema";
 import * as ParseResult from "@effect/schema/ParseResult";
 import * as Schema from "@effect/schema/Schema";
+// @ts-expect-error
+import { randomUUID } from "crypto"; // TODO
 import * as DateTime from "effect/DateTime";
 import * as Effect from "effect/Effect";
 import * as Option from "effect/Option";
@@ -363,6 +365,7 @@ export const makeRepository = (Model, options) => Effect.gen(function* () {
   const sql = yield* SqlClient;
   const idSchema = Model.fields[options.idColumn];
   const idColumn = options.idColumn;
+  const versionColumn = options.versionColumn;
   const insertSchema = SqlSchema.single({
     Request: Model.insert,
     Result: Model,
@@ -391,7 +394,14 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = LAST_INSERT_ID(
   const updateSchema = SqlSchema.single({
     Request: Model.update,
     Result: Model,
-    execute: request => sql.onDialectOrElse({
+    execute: versionColumn ? request => sql.onDialectOrElse({
+      mysql: () => sql`update ${sql(options.tableName)} set ${sql.update({
+        ...request,
+        [versionColumn]: randomUUID()
+      }, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]};
+select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(Effect.map(([, results]) => results)),
+      orElse: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]} returning *`
+    }) : request => sql.onDialectOrElse({
       mysql: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]};
 select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(Effect.map(([, results]) => results)),
       orElse: () => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} returning *`
@@ -405,7 +415,10 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idCol
   }));
   const updateVoidSchema = SqlSchema.void({
     Request: Model.update,
-    execute: request => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]}`
+    execute: versionColumn ? request => sql`update ${sql(options.tableName)} set ${sql.update({
+      ...request,
+      [versionColumn]: randomUUID()
+    }, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]}` : request => sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${request[idColumn]}`
   });
   const updateVoid = update => updateVoidSchema(update).pipe(Effect.orDie, Effect.withSpan(`${options.spanPrefix}.updateVoid`, {
     captureStackTrace: false,
diff --git a/dist/esm/Model.js.map b/dist/esm/Model.js.map
index 5b4b9d27be3cd257cb4391d0b995d6042d34aacf..00caa68864ece49ea1a26a69e643ddd003ff46fa 100644
--- a/dist/esm/Model.js.map
+++ b/dist/esm/Model.js.map
@@ -1 +1 @@
-{"version":3,"file":"Model.js","names":["RRX","VariantSchema","ParseResult","Schema","DateTime","Effect","Option","SqlClient","SqlResolver","SqlSchema","Class","Field","FieldExcept","FieldOnly","Struct","Union","extract","fieldEvolve","fieldFromKey","make","variants","defaultVariant","fields","Override","Generated","schema","select","update","json","GeneratedByApp","insert","Sensitive","FieldOption","OptionFromNullOr","optionalWith","as","jsonCreate","nullable","jsonUpdate","DateTimeFromDate","transform","ValidDateFromSelf","DateTimeUtcFromSelf","decode","unsafeFromDate","encode","toDateUtc","Date","transformOrFail","String","s","_","ast","pipe","map","removeTime","match","onNone","fail","Type","onSome","dt","succeed","formatIsoDate","DateWithNow","Overrideable","generate","now","DateTimeWithNow","formatIso","DateTimeFromDateWithNow","DateFromSelf","DateTimeFromNumberWithNow","Number","toEpochMillis","DateTimeInsert","DateTimeUtc","DateTimeInsertFromDate","DateTimeInsertFromNumber","DateTimeUtcFromNumber","DateTimeUpdate","DateTimeUpdateFromDate","DateTimeUpdateFromNumber","JsonFromString","parsed","parseJson","makeRepository","Model","options","gen","sql","idSchema","idColumn","insertSchema","single","Request","Result","execute","request","onDialectOrElse","mysql","tableName","unprepared","results","orElse","returning","orDie","withSpan","spanPrefix","captureStackTrace","attributes","insertVoidSchema","void","insertVoid","updateSchema","updateVoidSchema","updateVoid","findByIdSchema","findOne","id","findById","deleteSchema","delete_","delete","makeDataLoaders","insertResolver","ordered","forEach","concurrency","insertLoader","dataLoader","window","maxBatchSize","insertExecute","makeExecute","insertVoidResolver","insertVoidLoader","insertVoidExecute","findByIdResolver","Id","ResultId","ids","in","findByIdLoader","findByIdExecute","deleteResolver","deleteLoader","deleteExecute"],"sources":["../../src/Model.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
+{"version":3,"file":"Model.js","names":["RRX","VariantSchema","ParseResult","Schema","randomUUID","DateTime","Effect","Option","SqlClient","SqlResolver","SqlSchema","Class","Field","FieldExcept","FieldOnly","Struct","Union","extract","fieldEvolve","fieldFromKey","make","variants","defaultVariant","fields","Override","Generated","schema","select","update","json","GeneratedByApp","insert","Sensitive","FieldOption","OptionFromNullOr","optionalWith","as","jsonCreate","nullable","jsonUpdate","DateTimeFromDate","transform","ValidDateFromSelf","DateTimeUtcFromSelf","decode","unsafeFromDate","encode","toDateUtc","Date","transformOrFail","String","s","_","ast","pipe","map","removeTime","match","onNone","fail","Type","onSome","dt","succeed","formatIsoDate","DateWithNow","Overrideable","generate","now","DateTimeWithNow","formatIso","DateTimeFromDateWithNow","DateFromSelf","DateTimeFromNumberWithNow","Number","toEpochMillis","DateTimeInsert","DateTimeUtc","DateTimeInsertFromDate","DateTimeInsertFromNumber","DateTimeUtcFromNumber","DateTimeUpdate","DateTimeUpdateFromDate","DateTimeUpdateFromNumber","JsonFromString","parsed","parseJson","makeRepository","Model","options","gen","sql","idSchema","idColumn","versionColumn","insertSchema","single","Request","Result","execute","request","onDialectOrElse","mysql","tableName","unprepared","results","orElse","returning","orDie","withSpan","spanPrefix","captureStackTrace","attributes","insertVoidSchema","void","insertVoid","updateSchema","updateVoidSchema","updateVoid","findByIdSchema","findOne","id","findById","deleteSchema","delete_","delete","makeDataLoaders","insertResolver","ordered","forEach","concurrency","insertLoader","dataLoader","window","maxBatchSize","insertExecute","makeExecute","insertVoidResolver","insertVoidLoader","insertVoidExecute","findByIdResolver","Id","ResultId","ids","in","findByIdLoader","findByIdExecute","deleteResolver","deleteLoader","deleteExecute"],"sources":["../../src/Model.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}
\ No newline at end of file
diff --git a/src/Model.ts b/src/Model.ts
index 52b1b9ed89bdf9fc0fdc911f660807e69b575f02..a40df9eb483a9792b996f22fae7c5a6ae387bf98 100644
--- a/src/Model.ts
+++ b/src/Model.ts
@@ -5,6 +5,8 @@ import * as RRX from "@effect/experimental/RequestResolver"
 import * as VariantSchema from "@effect/experimental/VariantSchema"
 import * as ParseResult from "@effect/schema/ParseResult"
 import * as Schema from "@effect/schema/Schema"
+// @ts-expect-error
+import { randomUUID } from "crypto" // TODO
 import type { Brand } from "effect/Brand"
 import * as DateTime from "effect/DateTime"
 import type { DurationInput } from "effect/Duration"
@@ -622,6 +624,7 @@ export const makeRepository = <
   readonly tableName: string
   readonly spanPrefix: string
   readonly idColumn: Id
+  readonly versionColumn?: string | undefined
 }): Effect.Effect<
   {
     readonly insert: (
@@ -650,6 +653,7 @@ export const makeRepository = <
     const sql = yield* SqlClient
     const idSchema = Model.fields[options.idColumn] as Schema.Schema.Any
     const idColumn = options.idColumn as string
+    const versionColumn = options.versionColumn
 
     const insertSchema = SqlSchema.single({
       Request: Model.insert,
@@ -693,20 +697,35 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = LAST_INSERT_ID(
     const updateSchema = SqlSchema.single({
       Request: Model.update,
       Result: Model,
-      execute: (request) =>
-        sql.onDialectOrElse({
-          mysql: () =>
-            sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
-              request[idColumn]
-            };
+      execute: versionColumn ?
+        (request) =>
+          sql.onDialectOrElse({
+            mysql: () =>
+              sql`update ${sql(options.tableName)} set ${
+                sql.update({ ...request, [versionColumn]: randomUUID() }, [idColumn])
+              } where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]};
 select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(
-              Effect.map(([, results]) => results as any)
-            ),
-          orElse: () =>
-            sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
-              request[idColumn]
-            } returning *`
-        })
+                Effect.map(([, results]) => results as any)
+              ),
+            orElse: () =>
+              sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
+                request[idColumn]
+              } and ${sql(versionColumn)} = ${request[versionColumn]} returning *`
+          }) :
+        (request) =>
+          sql.onDialectOrElse({
+            mysql: () =>
+              sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
+                request[idColumn]
+              };
+select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idColumn]};`.unprepared.pipe(
+                Effect.map(([, results]) => results as any)
+              ),
+            orElse: () =>
+              sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
+                request[idColumn]
+              } returning *`
+          })
     })
     const update = (
       update: S["update"]["Type"]
@@ -721,10 +740,15 @@ select * from ${sql(options.tableName)} where ${sql(idColumn)} = ${request[idCol
 
     const updateVoidSchema = SqlSchema.void({
       Request: Model.update,
-      execute: (request) =>
-        sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
-          request[idColumn]
-        }`
+      execute: versionColumn ?
+        (request) =>
+          sql`update ${sql(options.tableName)} set ${
+            sql.update({ ...request, [versionColumn]: randomUUID() }, [idColumn])
+          } where ${sql(idColumn)} = ${request[idColumn]} and ${sql(versionColumn)} = ${request[versionColumn]}`
+        : (request) =>
+          sql`update ${sql(options.tableName)} set ${sql.update(request, [idColumn])} where ${sql(idColumn)} = ${
+            request[idColumn]
+          }`
     })
     const updateVoid = (
       update: S["update"]["Type"]
